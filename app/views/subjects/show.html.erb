<script>
/*	function showDiv(user_id) {
   		document.getElementById('gradeDiv').style.display = "block";
   		document.getElementById('hidden_input').value = user_id;
   		
	}*/
</script>
<div class="col-md-8">
		<div class="play-info">
			<h2 class="play-title"><%= @subject.title %></h2>
			<p class="play-desc"><%= @subject.description %></p>
			<%= link_to "Back", root_path %> 
			<% if current_user.status == 1 || current_user.status == 2 %>
		            | <%= link_to 'Edit', edit_subject_path(@subject) %> |
	            	<%= link_to 'Delete', subject_path(@subject), method: :delete, data: { confirm: 'Are you sure?' } %>
	            	| <%= link_to 'Add Students', new_subject_subjects_user_path(@subject) %> 
            <% end %>
            <br />
            <% @su.each do |su| %>
            	<br />
            	<div>
            		<% User.where(id: su.user_id).each do |user| %>
        				<div class="box"><b><%= user.name %> <%= user.surname %></b><br />
        				<table border="1" style="width: 100%; margin: 0 0 5px 0;">
        					<tr>
        					<% @grade = Grade.where(user_id: user.id).each do |grade| %>
        						<td style="width:10%; text-align: center;"><b><%= grade.value %></b></td> 
        						<td style="width:78%; padding: 3px;"><q><i><%= grade.description %></i></q></td>
        						<td style="width:12%; text-align: center;"><%= grade.created_at.to_date %></td>
        						<td><%= link_to "Edit", edit_subject_grade_path(grade) %></td>
        						<td><%= link_to "Delete", [grade.subject, grade], method: :delete, data: { confirm: "Are you sure" } %></td>
        					</tr>	
        					<% end %>
        				</table>	
        				<input type="button" name="Add Grade" value="Add Grade" id="showDiv" onclick="showDiv(<%= user.id %>)" class="myButton"/>
    					</div><br />
        				
        			<% end %>	
        		</div>
			<% end %>
		</div>
		<div id="gradeDiv" class="modal"><%= render "grades/form" %></div>
</div>
<script>
// Get the modal
	var modal = document.getElementById('gradeDiv');
	
	// Get the <span> element that closes the modal
	var span = document.getElementsByClassName("close")[0];
	
	// When the user clicks the button, open the modal 
	function showDiv(user_id) {
	    modal.style.display = "block";
	    document.getElementById('hidden_input').value = user_id;
	}
	
	// When the user clicks on <span> (x), close the modal
	span.onclick = function() {
	    modal.style.display = "none";
	}
	
	// When the user clicks anywhere outside of the modal, close it
	window.onclick = function(event) {
	    if (event.target == modal) {
	        modal.style.display = "none";
	    }
	}
</script>